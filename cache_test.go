package atomiccache

import (
	"testing"
)

func TestCacheFreeExpiration(t *testing.T) {
	// var data []byte
	// shard := NewShard(2048, 2048)

	// for i := uint32(0); i < 2048; i++ {
	// 	data = append(data, 1)
	// }

	// index := shard.Set(data, 500*time.Millisecond)

	// time.Sleep(100 * time.Millisecond)

	// if len(shard.Get(index)) == 0 {
	// 	t.Errorf("Cache is empty, but expecting some data")
	// }

	// time.Sleep(500 * time.Millisecond)

	// if len(shard.Get(index)) != 0 {
	// 	t.Errorf("Cache is not empty, but expecting nothing")
	// }
}
